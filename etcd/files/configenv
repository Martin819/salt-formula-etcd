{%- from "etcd/map.jinja" import server with context %}
# this file can be sourced and used to configure etcdctl
export ETCDCTL_ENDPOINT="{%- if server.bind.host != '127.0.0.1' %}http{% if server.get('ssl', {}).get('enabled') %}s{% endif %}://{{ server.bind.host }}:4001,{% endif %}http{% if server.get('ssl', {}).get('enabled') %}s{% endif %}://127.0.0.1:4001"
{%- if server.get('ssl', {}).get('enabled') %}
export ETCDCTL_CA_FILE=/var/lib/etcd/ca.pem
export ETCDCTL_CERT_FILE=/var/lib/etcd/etcd-server.pem
export ETCDCTL_KEY_FILE=/var/lib/etcd/etcd-server.key
{% endif %}
